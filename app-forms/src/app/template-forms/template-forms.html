<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-12">
            <form class="card shadow">
                <div class="card-header bg-warning text-white">
                    <h4 class="card-title mb-0">Template Forms</h4>
                </div>
                <div class="card-body">
                    <form #userForm="ngForm" matchPassword>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="name" class="form-label">Name *</label>
                                <input type="text" class="form-control" id="name" placeholder="Enter your name" required
                                    [(ngModel)]="formData.name" name="name" minlength="3" #name="ngModel">

                                <app-alert-error-template [control]="name" title="Name"></app-alert-error-template>

                                <!--                                 @if(name.errors && name.touched)
                                {
                                @let errorMessages = getErrorMessages("Name", name);
                                <div class="error">{{ errorMessages }}</div>
                                } -->



                                <!--                                 @if(name.hasError("required") && name.touched)
                                {
                                <div class="error">Name is required.</div>
                                }

                                @if(name.hasError("minlength") && name.touched)
                                {
                                <div class="error">Name must be at least 3 characters long.</div>
                                } -->



                                <!--                                 @if(userForm.controls["name"] && userForm.controls["name"].hasError("required") &&
                                userForm.controls["name"].touched)
                                {
                                <div class="error">Name is required.</div>
                                }

                                @if(userForm.controls["name"] && userForm.controls["name"].hasError("minlength") &&
                                userForm.controls["name"].touched)
                                {
                                <div class="error">Name must be at least 3 characters long.</div>
                                } -->
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="lastname" class="form-label">Last Name *</label>
                                <input type="text" class="form-control" id="lastname" placeholder="Enter your last name"
                                    required [(ngModel)]="formData.lastname" name="lastname" minlength="3"
                                    #lastname="ngModel">

                                <app-alert-error-template [control]="lastname"
                                    title="Last Name"></app-alert-error-template>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">Email *</label>
                            <div class="input-group">
                                <span class="input-group-text">@</span>
                                <input type="email" class="form-control" id="email" placeholder="Enter your email"
                                    required [(ngModel)]="formData.email" name="email" required email emailValidate
                                    #email="ngModel">
                            </div>
                            <app-alert-error-template [control]="email" title="Email"></app-alert-error-template>
                        </div>

                        <div class="mb-3">
                            <label for="password" class="form-label">Password *</label>
                            <input type="password" class="form-control" id="password" placeholder="Enter your password"
                                required [(ngModel)]="formData.password" name="password"
                                pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\w\s]).{8,}$" #password="ngModel">
                            <app-alert-error-template [control]="password" title="Password"></app-alert-error-template>
                        </div>

                        <div class="mb-4">
                            <label for="confirmPassword" class="form-label">Confirm Password *</label>
                            <input type="password" class="form-control" id="confirmPassword"
                                placeholder="Confirm your password" required [(ngModel)]="formData.confirmPassword"
                                name="confirmPassword" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\w\s]).{8,}$"
                                #confirmPassword="ngModel">
                            <app-alert-error-template [control]="confirmPassword"
                                title="Confirm Password"></app-alert-error-template>
                        </div>

                        <div class="mb-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="termsConditions" required
                                    [(ngModel)]="formData.termsConditions" name="termsConditions"
                                    #termsConditions="ngModel">
                                <label class="form-check-label" for="termsConditions">
                                    I agree to the <a href="#" class="text-primary">Terms and Conditions</a> and
                                    <a href="#" class="text-primary">Privacy Policy</a> *
                                </label>
                                <app-alert-error-template [control]="termsConditions"
                                    title="Terms and Conditions"></app-alert-error-template>
                            </div>
                        </div>
                        <app-alert-error-template [control]="userForm" title="Forms"></app-alert-error-template>

                        <div class="d-grid gap-2">
                            <button type="button" class="btn btn-warning btn-lg" (click)="save(userForm)">
                                <i class="fas fa-save me-2"></i>
                                Save Registration
                            </button>
                            <button type="reset" class="btn btn-outline-secondary" (click)="resetForm(userForm)">
                                <i class="fas fa-undo me-2"></i>
                                Reset Form
                            </button>
                        </div>

                    </form>
                </div>
            </form>
        </div>
    </div>
</div>